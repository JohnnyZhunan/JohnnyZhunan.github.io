






<!doctype html>
<html lang="zh-CN">
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="author" content="Johnny Zhu">
  
  
  
  
    <meta name="description" content="问题描述As the new term comes, the Ignatius Train Station is very busy nowadays. A lot of student want to get back to school by train(because the trains in the Ignatius Train Station is the fastest all...">
  
  <title>hdu1022 Train Problem I [ Johnny Zhu's Blog ]</title>
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
  <link rel="stylesheet" href="/css/random.css">
<link rel="stylesheet" href="/css/vegas.min.css">
<link rel="stylesheet" href="/css/highlight-railscasts.css">
<link rel="stylesheet" href="/css/jquery.fancybox.css">
<link rel="stylesheet" href="/css/iconfont/iconfont.css">
<link rel="stylesheet" href="/css/jquery.fancybox-thumbs.css">
<link rel="stylesheet" href="/css/plyr.css">
  
</head>

<body>
<div class="side-navigate hide-area">
  
  
    <div class="item next">
      <a href="/2018/02/12/poj2084-Game-of-Connections/">
        <div class="item-icon"></div>
      </a>
      <div class="item-title">
        poj2084 Game of Connections
      </div>
    </div>
  
</div>
<div id="outer-container" class="hide-area">
<div id="container">
  <div id="menu-outer" class="slide-down">
    <div id="menu-inner">
      <div id="brand">
        
        <a onClick="openUserCard()">
          <img id="avatar" src="/pic/head.jpg"/>
          <div id="homelink">Johnny Zhu's Blog</div>
        </a>
      </div>
      <div id="menu-list">
        <ul>
        
        
          
            <li>
          
            <a href="/index.html">主页</a>
            
          </li>
        
          
            <li>
          
            <a href="/archives">所有文章</a>
            
          </li>
        
          
            <li>
          
            <a href="/tags">标签</a>
            
          </li>
        
          
            <li>
          
            <a href="/categories">分类</a>
            
          </li>
        
          
            <li>
          
            <a href="/about">关于我</a>
            
          </li>
        
        </ul>
      </div>
      <div id="show-menu">
        <button>Menu</button>
      </div>
    </div>
  </div>

  <div id="content-outer">
    <div id="content-inner">
      
      
  <article id="post">
    <h1>hdu1022 Train Problem I</h1>
    <p class="page-title-sub">
      <span id = "post-title-date">撰写于 2018-02-12</span>
      
        <span id = "post-title-updated">修改于 2018-02-12</span>
      
      
      <span id = "post-title-categories">分类
      
      
        
        
        <a href="/categories/算法竞赛-栈的应用/">算法竞赛-栈的应用</a>
      
      </span>
      
      
      <span id = "post-title-tags">
      标签
      
      
        
        
        <a href="/tags/算法竞赛/">算法竞赛</a>
      
      </span>
      
    </p>
    
    <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>As the new term comes, the Ignatius Train Station is very busy nowadays. A lot of student want to get back to school by train(because the trains in the Ignatius Train Station is the fastest all over the world ^v^). But here comes a problem, there is only one railway where all the trains stop. So all the trains come in from one side and get out from the other side. For this problem, if train A gets into the railway first, and then train B gets into the railway before train A leaves, train A can’t leave until train B leaves. The pictures below figure out the problem. Now the problem for you is, there are at most 9 trains in the station, all the trains has an ID(numbered from 1 to n), the trains get into the railway in an order O1, your task is to determine whether the trains can get out in an order O2.</p>
<p><img src="https://github.com/JohnnyZhunan/BlogPhotoes/blob/master/hdu1022.png" alt=""></p>
<p>Input<br>The input contains several test cases. Each test case consists of an integer, the number of trains, and two strings, the order of the trains come in:O1, and the order of the trains leave:O2. The input is terminated by the end of file. More details in the Sample Input.</p>
<p>Output<br>The output contains a string “No.” if you can’t exchange O2 to O1, or you should output a line contains “Yes.”, and then output your way in exchanging the order(you should output “in” for a train getting into the railway, and “out” for a train getting out of the railway). Print a line contains “FINISH” after each test case. More details in the Sample Output.</p>
<p>Sample Input</p>
<p>3 123 321<br>3 123 312</p>
<p>Sample Output</p>
<p>Yes.<br>in<br>in<br>in<br>out<br>out<br>out<br>FINISH<br>No.<br>FINISH</p>
<p>Hint<br>Hint</p>
<p>For the first Sample Input, we let train 1 get in, then train 2 and train 3.<br>So now train 3 is at the top of the railway, so train 3 can leave first, then train 2 and train 1.<br>In the second Sample input, we should let train 3 leave first, so we have to let train 1 get in, then train 2 and train 3.<br>Now we can let train 3 leave.<br>But after that we can’t let train 1 leave before train 2, because train 2 is at the top of the railway at the moment.<br>So we output “No.”.</p>
<h2 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h2><p>根据题意很容易得出这样一个结论：火车进站和出站符合“先进后出”的规律。“先进后出”是栈的典型特点。所以首先想到的就是用栈的原理来解决该题。<br>我们把重点放在代码的实现上：<br>1.我们先定义两个数组in[ ]和out[ ]，分别用来存储进站的火车编号和出站的火车编号。同时设置两个类似于“指针”的变量i, j，分别指向in数组和out数组的首元素。<br>2.我们先考虑进栈。当栈空或者即将进栈的元素（即i所指向的in数组内的元素）和当前j所指向的out数组的元素不相等时，我们就让i指向的in数组内的那个元素进栈（由于题的特点，每辆火车的编号都具有唯一性，即：栈内的元素注定彼此不同。因此，这种办法在本题中才行得通）。<br>3.栈顶元素和当前j所指向的out的元素相等的时候，说明火车可以出战，我们就让这个栈顶元素出栈，同时j指向out数组的下一个元素。否则就停止进栈、出栈的操作（因为栈顶元素一旦与当前j所指向的out元素的值不相等，说明火车在车站里面被堵住了，出不来了）。<br>4.依照上面的步骤。当进栈出栈操作结束以后，若栈里面还有元素，说明火车出不了站了。<br>5.若栈空的话，则说明火车已经全部出站。那么就只剩一个问题：如何能将in和out指示给打印出来！我们可以设置一个flag数组，当进栈的时候，我们把值设置成1，若出栈的话，我们就把它设置为0，到时候根据flag元素是1还是0,把in和out打印出来。</p>
<p>代码如下：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```cpp</span></span><br><span class="line"><span class="code">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="code">#include&lt;cstdio&gt;</span></span><br><span class="line"><span class="code">#include&lt;cstring&gt;</span></span><br><span class="line"><span class="code">#include&lt;string&gt;</span></span><br><span class="line"><span class="code">#include&lt;stack&gt;</span></span><br><span class="line"><span class="code">using namespace std;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">int main()</span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">    int n,i,j,tag;</span></span><br><span class="line"><span class="code">    char in[10];</span></span><br><span class="line"><span class="code">    char out[10];</span></span><br><span class="line"><span class="code">    bool flag[20];</span></span><br><span class="line"><span class="code">    while(cin&gt;&gt;n)</span></span><br><span class="line"><span class="code">    &#123;</span></span><br><span class="line"><span class="code">        scanf("%s",in);</span></span><br><span class="line"><span class="code">        scanf("%s",out);</span></span><br><span class="line"><span class="code">        i = j = tag = 0;</span></span><br><span class="line"><span class="code">        stack&lt;char&gt; s;</span></span><br><span class="line"><span class="code">        while(j&lt;n)</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            if(s.empty()||s.top()!=out[j]&amp;&amp;i&lt;n)</span></span><br><span class="line"><span class="code">            &#123;</span></span><br><span class="line"><span class="code">                s.push(in[i]);</span></span><br><span class="line"><span class="code">                flag[tag++] = true;</span></span><br><span class="line"><span class="code">                i++;</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">            else</span></span><br><span class="line"><span class="code">            &#123;</span></span><br><span class="line"><span class="code">                if(s.top()==out[j])</span></span><br><span class="line"><span class="code">                &#123;</span></span><br><span class="line"><span class="code">                    s.pop();</span></span><br><span class="line"><span class="code">                    flag[tag++] = false;</span></span><br><span class="line"><span class="code">                    j++;</span></span><br><span class="line"><span class="code">                &#125;</span></span><br><span class="line"><span class="code">                else</span></span><br><span class="line"><span class="code">                &#123;</span></span><br><span class="line"><span class="code">                    break;</span></span><br><span class="line"><span class="code">                &#125;</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">        &#125;</span></span><br><span class="line"><span class="code">        if(s.empty())</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            cout&lt;&lt;"Yes."&lt;&lt;endl;</span></span><br><span class="line"><span class="code">            for(int i=0;i&lt;tag;i++)</span></span><br><span class="line"><span class="code">            &#123;</span></span><br><span class="line"><span class="code">                if(flag[i])</span></span><br><span class="line"><span class="code">                &#123;</span></span><br><span class="line"><span class="code">                    cout&lt;&lt;"in"&lt;&lt;endl;</span></span><br><span class="line"><span class="code">                &#125;</span></span><br><span class="line"><span class="code">                else</span></span><br><span class="line"><span class="code">                &#123;</span></span><br><span class="line"><span class="code">                    cout&lt;&lt;"out"&lt;&lt;endl;</span></span><br><span class="line"><span class="code">                &#125;</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">            cout&lt;&lt;"FINISH"&lt;&lt;endl;</span></span><br><span class="line"><span class="code">        &#125;</span></span><br><span class="line"><span class="code">        else</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            cout&lt;&lt;"No."&lt;&lt;endl;</span></span><br><span class="line"><span class="code">            cout&lt;&lt;"FINISH"&lt;&lt;endl;</span></span><br><span class="line"><span class="code">        &#125;</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    return 0;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure></p>

  </article>
  <div class="random-toc-area">
  <button class="btn-hide-toc btn-hide-toc-show" style="display: none" onclick="TOCToggle()">显示目录</button>
  <button class="btn-hide-toc btn-hide-toc-hide" onclick="TOCToggle()">隐藏目录</button>
  <div class="random-toc">
    <h2>目录</h2>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#问题描述"><span class="toc-text">问题描述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#解析"><span class="toc-text">解析</span></a></li></ol>
  </div>
</div>

  
<nav id="pagination">
  

  

  
    <a href="/2018/02/12/poj2084-Game-of-Connections/" class="next">下一篇 poj2084 Game of Connections &rarr;</a>
  
</nav>

  <!-- JiaThis Button BEGIN -->

<!-- JiaThis Button END -->


      
      
    </div>
  </div>

  <div id="bottom-outer">
    <div id="bottom-inner">
      Site by Johnny Zhu using
      <a href="http://hexo.io">Hexo</a> & <a href="https://github.com/stiekel/hexo-theme-random">Random</a>
      <br>
      
    </div>
  </div>
</div>

</div>


<div id="user-card">
  <div class="center-field">
    <img class="avatar" src="/pic/head.jpg">
    <p id="description"></p>
    <ul class="social-icon">
  
  
    <li>
      <a href="https://github.com/JohnnyZhunan">
        
          <i class="icon iconfont github">&#xe606;</i>
        
      </a>
    </li>
  
    <li>
      <a href="https://weibo.com/5547714305/profile?rightmod=1&wvr=6&mod=personinfo">
        
          <i class="icon iconfont weibo">&#xe602;</i>
        
      </a>
    </li>
  
</ul>
  </div>
</div>


<script>
// is trigger analytics / tongji script
var isIgnoreHost = false;

if(window && window.location && window.location.host) {
  isIgnoreHost = ["localhost","127.0.0.1"].some(function(address){
    return 0 === window.location.host.indexOf(address);
  });
}

var isTriggerAnalytics = !( true && isIgnoreHost );

</script>




  
  
    <script src="/js/jquery-2.2.3.min.js"></script>
  
    <script src="/js/vegas.min.js"></script>
  
    <script src="/js/random.js"></script>
  
    <script src="/js/highlight.pack.js"></script>
  
    <script src="/js/jquery.mousewheel.pack.js"></script>
  
    <script src="/js/jquery.fancybox.pack.js"></script>
  
    <script src="/js/jquery.fancybox-thumbs.js"></script>
  
    <script src="/js/plyr.js"></script>
  

<script>

  // fancybox
  var backgroundImages = [];
  
  $('#post').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox') || $(this).parent().hasClass('fancybox-thumb')) return;
      var alt = this.alt || this.title;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'post' + i);
    });
  });
  $(".fancybox").fancybox();

var vegasConfig = {"preload­Image":true,"transition":["slideLeft2","slideRight2","flash2"],"timer":true,"delay":5000,"shuffle":true,"count":28};
var unsplashConfig = {"gravity":"north"};
// is show background images
var turnoffBackgroundImage = false;



  turnoffBackgroundImage = true;


var backgroundColor = "34495E";

$(".fancybox-thumb").fancybox({
  prevEffect: 'none',
  nextEffect: 'none',
  helpers: {
    title: {
      type: 'outside'
    },
    thumbs: {
      width: 50,
      height: 50
    }
  }
});

// show video with plyr
$(".video-container iframe").each(function(i){
  var url = $(this).attr('src');
  var id = url.split('/').pop();
  var plyrContainer = document.createElement('div');
  plyrContainer.className = 'plyr';
  var plyrElement = document.createElement('div');
  plyrElement.dataset.videoId = id;
  switch(true) {
    case url.search('youtube.com') >= 0:
      plyrElement.dataset.type = 'youtube';
      break;
    case url.search('vimeo.com') >= 0:
      plyrElement.dataset.type = 'vimeo';
      break;
    default:
      return;
  };
  plyrContainer.appendChild(plyrElement);
  $(this).parent().html(plyrContainer);
});
plyr.setup('.plyr', {iconUrl: '/css/sprite.svg'});
</script>
</body>
</html>

